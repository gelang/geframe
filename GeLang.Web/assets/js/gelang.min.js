var GeLang={version:"1.0.0",baseUrl:"/",themes:"gelang"};GeLang.Layout=function(n){"use strict";var r=this,u=!1,f=!1,t={},i="",e="",o='<div class="page"><div class="header"><div class="header-content"><div class="brand"><div class="title"><\/div><div class="separator"><\/div><div class="nav-module"><\/div><\/div><div class="module"><\/div><div class="toolbar"><\/div><div class="profile"><\/div><\/div><\/div><div class="body"><div class="leftpanel"><div class="leftmenu"><\/div><\/div><div class="mainpanel"><div class="breadcrumbs"><\/div><div class="pageheader"><\/div><div class="maincontent"><\/div><\/div><\/div><div class="modules"><\/div><div class="footer"><\/div><\/div>';this.render=function(f){if(u){console.log("already rendered...!");return}f=f||"body",this.configure(f),this.renderModules(f,n.modules||[]);var o=[],s=[];this.onModuleChanged=function(n){o.push(n)},this.onMenuChanged=function(n){s.push(n)};this.onHashChanged(function(n,r){var u=r.split("/"),f;if(u.length>0&&u[0]==="lnk"&&u.length>1){if(i!=u[1]){for(f=0;f<o.length;f++)o[f](n,u[1],t[u[1]]);i=u[1]}if(e!==(u[2]||"")){for(f=0;f<s.length;f++)s[f](n,u[2]||"");e=u[2]}}});this.onModuleChanged(function(n,i,u){var u=t[i],e;r.renderMenus(f,u||[]),e=$(f+' .page .modules li[data-id="'+i+'"]'),e.parent().children().removeClass("selected"),e.addClass("selected"),$(f+" .page .header .header-content .brand .title").text(e.text())});this.onMenuChanged(function(n,t){var i=$(f+' .page .body .leftmenu li[data-id="'+t+'"]');i.parent().children().removeClass("selected"),i.addClass("selected")});this.fixedLayout(),$(window).resize(function(){r.fixedLayout()}),u=!0},this.configure=function(t){var r;if(f){console.log("already configured...!");return}this.onSave=n.onSave,this.onDelete=n.onDelete,r=o,$(t).empty(),$(t).addClass(GeLang.themes),$(t).html(r);var i=[],u="",e=function(n){return n?n.substring(0,1)=="#"&&(n=n.substring(1)):n="",n};setInterval(function(){var t=e(window.location.hash),n;if(u!=t){for(n=0;n<i.length;n++)i[n](this,t);u=t}},100),this.onHashChanged=function(n){i.push(n)},f=!0},this.fixedLayout=function(){var n=$(window).height(),t=n-$(".page .header").height();$(".page .body").css({height:t+"px"})},this.renderModules=function(n,i){var r="";$.each(i,function(n,i){r+='<li class="menu" data-id="'+i.name+'">'+i.text+"<\/li>",t[i.name]=i.menus}),$(n+" .page .modules").html("<ul>"+r+"<\/ul>");$(n+" .page .modules li").on("click",function(){window.location.href="#lnk/"+($(this).data("id")||"")});$(".page .header .header-content .brand .nav-module").on("click",function(){$(".page .modules").slideDown("fast")});$(".page .body").on("click",function(){$(".page .modules").slideUp("fast"),$(".page .header .header-content .panel.panel-userinfo").slideUp("fast")});$(".page .modules .menu").on("click",function(){$(".page .modules").slideUp("fast");var n=$(this);setTimeout(function(){window.location=n.data("url")},250)})},this.renderMenus=function(n,t){var r="";$.each(t,function(n,t){r+='<li data-id="'+t.name+'">'+t.text+"<\/li>"}),$(n+" .page .body .leftmenu").html("<ul>"+r+"<\/ul>");$(n+" .page .body .leftmenu li").on("click",function(){window.location.href="#lnk/"+(i||"")+"/"+($(this).data("id")||"")})}};
//@ sourceMappingURL=gelang.min.js.map