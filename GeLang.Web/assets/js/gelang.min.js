var GeLang={version:"1.0.0",baseUrl:"/",themes:"gelang"};GeLang.Layout=function(n){"use strict";var t=this,u=!1,f=!1,i={},r="",e="",o='<div class="page"><div class="header"><div class="brand"><div class="title"><\/div><div class="separator"><\/div><div class="navigation"><\/div><\/div><div class="module"><\/div><div class="toolbar"><\/div><div class="profile"><\/div><\/div><div class="body"><div class="leftpanel"><div class="leftmenu"><\/div><\/div><div class="mainpanel"><div class="breadcrumbs"><\/div><div class="pageheader"><\/div><div class="maincontent"><\/div><\/div><\/div><div class="modules"><\/div><div class="footer"><\/div><\/div>';this.render=function(f){var s;if(u){console.log("already rendered...!");return}f=f||"body",this.configure(f),this.renderModules(f,n.modules||[]);var h=[],o=[],c=[];this.onModuleChanged=function(n){h.push(n)},this.onMenuChanged=function(n){o.push(n)},this.onRendered=function(n){o.push(n)};this.onHashChanged(function(n,t){var u=t.split("/"),f;if(u.length>0&&u[0]==="lnk"&&u.length>1){if(r!=u[1]){for(f=0;f<h.length;f++)h[f](n,u[1],i[u[1]]);r=u[1]}if(e!==(u[2]||"")){for(f=0;f<o.length;f++)o[f](n,{module:u[1]||"",menu:u[2]||""});e=u[2]}}});this.onModuleChanged(function(n,r,u){var u=i[r],e;t.renderMenus(f,u||[]),e=$(f+' .page .modules li[data-id="'+r+'"]'),e.parent().children().removeClass("selected"),e.addClass("selected"),$(f+" .page .header .brand .title").text(e.text())});this.onMenuChanged(function(n,i){if(t.loadMenu!=undefined){var r=$(f+' .page .body .leftmenu li[data-id="'+i.menu+'"]');t.loadMenu(r,i)}});for(this.fixedLayout(),$(window).resize(function(){t.fixedLayout()}),u=!0,s=0;s<c.length;s++)c[s]()},this.configure=function(t){var r;if(f){console.log("already configured...!");return}this.onSave=n.onSave,this.onDelete=n.onDelete,r=o,$(t).empty(),$(t).addClass(GeLang.themes),$(t).html(r);var i=[],u="",e=function(n){return n?n.substring(0,1)=="#"&&(n=n.substring(1)):n="",n};setInterval(function(){var t=e(window.location.hash),n;if(u!=t){for(n=0;n<i.length;n++)i[n](this,t);u=t}},100),this.onHashChanged=function(n){i.push(n)},f=!0},this.fixedLayout=function(){var n=$(window).height(),t=n-$(".page .header").height();$(".page .body").css({height:t+"px"})},this.renderModules=function(n,t){var r="";$.each(t,function(n,t){r+='<li class="menu" data-id="'+t.name+'"><label>'+t.text+"<\/label><\/li>",i[t.name]=t.menus}),$(n+" .page .modules").html("<ul>"+r+"<\/ul>");$(n+" .page .modules li").on("click",function(){window.location.href="#lnk/"+($(this).data("id")||"")});$(".page .header .brand .navigation").on("click",function(){$(".page .modules").slideDown("fast")});$(".page .body").on("click",function(){$(".page .modules").slideUp("fast"),$(".page .header .panel.panel-userinfo").slideUp("fast")});$(".page .modules .menu").on("click",function(){$(".page .modules").slideUp("fast");var n=$(this);setTimeout(function(){},250)})},this.renderMenus=function(n,t){var i="";$.each(t,function(n,t){i+='<li data-id="'+t.name+'"><label>'+t.text+"<\/label><\/li>"}),$(n+" .page .body .leftmenu").html("<ul>"+i+"<\/ul>");$(n+" .page .body .leftmenu li").on("click",function(){window.location.href="#lnk/"+(r||"")+"/"+($(this).data("id")||"")})}},GeLang.Layout.prototype.loadMenu=function(n,t){var i=$(".page .body .mainpanel .maincontent"),r=GeLang.baseUrl+t.module+"/"+t.menu;i.load(r,function(t,i){i==="success"&&(n.parent().children().removeClass("selected"),n.addClass("selected"))})};
//@ sourceMappingURL=gelang.min.js.map